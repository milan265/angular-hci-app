<section class="mainHeight">
    <div fxLayout="row">
        <div *ngIf="!kategorijaFixed" fxLayout="column" fxFlex="25" class="kategorije-meni">
            <p class="kategorije-naslov">Kategorije</p>
            <div *ngFor="let kategorija of kategorije; let i=index">
                <a (click)="scrollToElement(i)"><div>{{kategorija}}</div></a>
            </div>
        </div> 
        
        <div *ngIf="kategorijaFixed" fxLayout="column" fxFlex="25" class="kategorije-meni kategorije-meni-fixed">
            <p class="kategorije-naslov">Kategorije</p>
            <div *ngFor="let kategorija of kategorije; let i=index">
                <a (click)="scrollToElement(i)"><div>{{kategorija}}</div></a>
            </div>
        </div>
        <div *ngIf="kategorijaFixed" fxFlex="25">

        </div>

        <div class="obroci" fxFlex="50">
            <div *ngFor="let kategorija of kategorije; let i=index" fxLayout="column">
                <p id="{{i}}"class="naziv-kategorije">{{kategorija}}</p>
                <div fxLayout="column">
                    <div *ngFor="let obrok of obroci" (click)="dodajPrilog(obrok.id)">
                        <mat-card *ngIf="obrok.kategorija==kategorija" fxLayout="row">
                            <mat-card-content fxFlex="80" fxLayout="column" fxLayoutGap="5px">
                                <p class='naziv-obroka'>{{obrok.naziv}}</p>
                                <p class='opis-obroka'>{{obrok.opis}}</p>
                                <p>{{obrok.cena}},00 RSD</p>
                            </mat-card-content>
                            <img fxFlex="20" mat-card-image src="{{obrok.slika}}">
                        </mat-card>
                    </div>
                </div>
            </div> 
        </div>
        
        <div *ngIf="!infoFixed" fxLayout="column" fxLayoutGap="30px" fxFlex="25" class="info">
            <div fxLayoutAlign="center center">
                <p class="kategorije-naslov">Informacije o restoranu</p>
            </div>
            <div fxLayout="column" fxLayoutGap="20px">
                <div fxLayoutAlign="center center">
                    <img src="{{getLogo()}}" alt="logo">
                </div>
                <div fxLayout="column" fxLayoutAlign="center center">
                    <span fxLayout="row" fxLayoutAlign="center center">
                        {{restoran.naziv}} 
                        <button *ngIf="ulogovan && !omiljenRestoran" mat-icon-button matTooltip="Dodaj u omiljenim restoranima" (click)="dodajOmiljenRestoran()">
                            <mat-icon>favorite_border</mat-icon>
                        </button>
                        <button *ngIf="ulogovan && omiljenRestoran" color="warn" mat-icon-button matTooltip="Ukloni iz omiljenih restorana" (click)="ukloniOmiljenRestoran()">
                            <mat-icon>favorite</mat-icon>
                        </button>
                    </span>
                    <span>
                        <bar-rating [rate]="restoran.ocena" [showText]="true" [readOnly]="true" [max]="5" theme="fontawesome-o"></bar-rating>
                    </span>  
                    <div *ngIf="imaMapu">
                        <iframe [src]="mapa" width="250" height="250" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
                    </div>
                </div>

            </div>
        </div> 
        
        <div *ngIf="infoFixed" fxLayout="column" fxLayoutGap="30px" fxFlex="25" class="info info-fixed">
            <div fxLayoutAlign="center center">
                <p class="kategorije-naslov">Informacije o restoranu</p>
            </div>
            <div fxLayout="column" fxLayoutGap="20px">
                <div fxLayoutAlign="center center">
                    <img src="{{getLogo()}}" alt="logo">
                </div>
                <div fxLayout="column" fxLayoutAlign="center center">
                    <span fxLayout="row" fxLayoutAlign="center center">
                        {{restoran.naziv}} 
                        <button *ngIf="ulogovan && !omiljenRestoran" mat-icon-button matTooltip="Dodaj u omiljenim restoranima" (click)="dodajOmiljenRestoran()">
                            <mat-icon>favorite_border</mat-icon>
                        </button>
                        <button *ngIf="ulogovan && omiljenRestoran" color="warn" mat-icon-button matTooltip="Ukloni iz omiljenih restorana" (click)="ukloniOmiljenRestoran()">
                            <mat-icon>favorite</mat-icon>
                        </button>
                    </span>
                    <span>
                        <bar-rating [rate]="restoran.ocena" [showText]="true" [readOnly]="true" [max]="5" theme="fontawesome-o"></bar-rating>
                    </span>  
                    <div *ngIf="imaMapu">
                        <iframe [src]="mapa" width="250" height="250" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
                    </div>
                </div>

            </div>
           
        </div>
        <div *ngIf="infoFixed" fxFlex="25">

        </div>
    </div>
</section>